// This file is automatically generated. DO NOT EDIT!
// Generated from: codegen/Sources/Schema/Methods/Account.swift

import Foundation
import SmithereenAPIInternals
import Hammond
extension Account {

	/// Returns the information needed to display the form for editing the "General"
	/// section of the current user's profile.
	/// 
	/// This method is needed because ``Users/Get`` will only return the relationship
	/// partner for statuses other than "in love" if both users have set each other
	/// as their partners.
	/// Future Smithereen versions may add more such fields, for example,
	/// names in different languages.
	/// 
	/// - Note: This method requires the following permissions: `account`.
	public struct GetProfileInfo: SmithereenAPIRequest, Hashable, Encodable, Sendable {

		/// A list of ``User`` profile fields to be returned in
		/// ``Result/relationPartner``.
		public var fields: [User.Field]?

		public struct Result: Hashable, Codable, Sendable {

			/// First name.
			public var firstName: String

			/// Nickname or middle name.
			public var nickname: String

			/// Last name.
			public var lastName: String

			/// Maiden name.
			public var maidenName: String

			/// Preferred grammatical gender used to choose pronouns in strings
			/// that refer to the current user.
			public var sex: Clearable<User.Gender>

			/// The date of birth.
			public var birthday: Clearable<Birthday>

			/// Hometown.
			public var hometown: String

			/// Relationship status.
			public var relation: Clearable<User.RelationshipStatus>

			/// A ``User`` object representing the current user's relationship
			/// partner, if any.
			public var relationPartner: User?

			/// - parameters:
			///   - firstName: First name.
			///   - nickname: Nickname or middle name.
			///   - lastName: Last name.
			///   - maidenName: Maiden name.
			///   - sex: Preferred grammatical gender used to choose pronouns in strings
			///     that refer to the current user.
			///   - birthday: The date of birth.
			///   - hometown: Hometown.
			///   - relation: Relationship status.
			///   - relationPartner: A ``User`` object representing the current user's relationship
			///     partner, if any.
			public init(
				firstName: String,
				nickname: String,
				lastName: String,
				maidenName: String,
				sex: Clearable<User.Gender>,
				birthday: Clearable<Birthday>,
				hometown: String,
				relation: Clearable<User.RelationshipStatus>,
				relationPartner: User? = nil,
			) {
				self.firstName = firstName
				self.nickname = nickname
				self.lastName = lastName
				self.maidenName = maidenName
				self.sex = sex
				self.birthday = birthday
				self.hometown = hometown
				self.relation = relation
				self.relationPartner = relationPartner
			}

			private enum CodingKeys: String, CodingKey {
				case firstName = "first_name"
				case nickname
				case lastName = "last_name"
				case maidenName = "maiden_name"
				case sex
				case birthday = "bdate"
				case hometown
				case relation
				case relationPartner = "relation_partner"
			}
		}

		/// - parameters:
		///   - fields: A list of ``User`` profile fields to be returned in
		///     ``Result/relationPartner``.
		public init(fields: [User.Field]? = nil) {
			self.fields = fields
		}
		public var path: String {
			"/api/method/account.getProfileInfo"
		}
		public static var method: HTTPMethod {
			.post
		}
		public var encodableBody: Self? {
			self
		}
	}
}