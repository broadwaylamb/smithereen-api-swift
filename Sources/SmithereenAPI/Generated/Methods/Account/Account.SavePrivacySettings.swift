// This file is automatically generated. DO NOT EDIT!
// Generated from: codegen/Sources/Schema/Methods/Account.swift

import Foundation
import SmithereenAPIInternals
import Hammond
extension Account {

	/// Updates the current user's privacy settings.
	/// 
	/// Any settings not specified remain unchanged.
	/// 
	/// - Note: This method requires the following permissions: `account`.
	public struct SavePrivacySettings: SmithereenAPIRequest, Hashable, Encodable, Sendable {

		public struct Setting: Hashable, Codable, Sendable {

			/// The key as returned by ``Account/GetPrivacySettings``.
			public var key: PrivacySetting.Key

			/// The privacy setting itself.
			public var setting: PrivacySetting

			/// - parameters:
			///   - key: The key as returned by ``Account/GetPrivacySettings``.
			///   - setting: The privacy setting itself.
			public init(
				key: PrivacySetting.Key,
				setting: PrivacySetting,
			) {
				self.key = key
				self.setting = setting
			}
		}

		/// Regular privacy settings.
		@EncodeAsJSONString
		public var settings: [Setting]?

		/// Which updates show up in followers' news feeds.
		public var feedTypes: FeedTypes?

		/// - parameters:
		///   - settings: Regular privacy settings.
		///   - feedTypes: Which updates show up in followers' news feeds.
		public init(
			settings: [Setting]? = nil,
			feedTypes: FeedTypes? = nil,
		) {
			self.settings = settings
			self.feedTypes = feedTypes
		}

		private enum CodingKeys: String, CodingKey {
			case settings
			case feedTypes = "feed_types"
		}
		public var path: String {
			"/api/method/account.savePrivacySettings"
		}
		public static var method: HTTPMethod {
			.post
		}
		public var encodableBody: Self? {
			self
		}
		public typealias Result = ()
	}
}