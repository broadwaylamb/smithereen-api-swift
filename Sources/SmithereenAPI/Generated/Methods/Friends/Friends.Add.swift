// This file is automatically generated. DO NOT EDIT!
// Generated from: codegen/Sources/Schema/Methods/Friends.swift

import Foundation
import SmithereenAPIInternals
import Hammond
extension Friends {

	/// Sends a friend request, accepts an incoming friend request,
	/// or follows a user.
	/// 
	/// - Note: This method requires the following permissions: `friends`.
	public struct Add: SmithereenAPIRequest, Hashable, Encodable, Sendable {

		/// The identifier of the target user.
		public var userID: UserID

		/// If sending a friend request, the message to send along with it.
		public var text: String?

		public enum Result: String, Codable, Sendable, CaseIterable {

			/// A friend request was sent.
			case requestSent = "request_sent"

			/// An incoming friend request was accepted, or the target user
			/// was following the current user and theyâ€™re now friends.
			case requestAccepted = "request_accepted"

			/// The current user was added as a follower of the target user
			/// without sending a friend request
			case followed
		}

		/// - parameters:
		///   - userID: The identifier of the target user.
		///   - text: If sending a friend request, the message to send along with it.
		public init(
			userID: UserID,
			text: String? = nil,
		) {
			self.userID = userID
			self.text = text
		}

		private enum CodingKeys: String, CodingKey {
			case userID = "user_id"
			case text
		}
		public var path: String {
			"/api/method/friends.add"
		}
		public static var method: HTTPMethod {
			.post
		}
		public var encodableBody: Self? {
			self
		}
	}
}