// This file is automatically generated. DO NOT EDIT!
// Generated from: codegen/Sources/Schema/Methods/Friends.swift

import Foundation
import SmithereenAPIInternals
import Hammond
extension Friends {

	/// Returns information about friendship states and friend requests related
	/// to the specified users.
	/// 
	/// - Note: This method requires the following permissions: `friends:read`.
	public struct AreFriends: SmithereenAPIRequest, Hashable, Encodable, Sendable {

		/// The list of user identifiers to retrieve friendship states for.
		public var userIDs: [UserID]

		/// Whether to return ``FriendshipInfo/isRequestUnread``.
		public var extended: Bool

		public struct FriendshipInfo: Hashable, Codable, Sendable {

			/// User identifier.
			public var userID: UserID

			/// The relationship between this user and the current user.
			public var friendStatus: State

			public enum State: String, Codable, Sendable, CaseIterable {

				/// No relationship.
				case none

				/// Current user is following this user.
				case following

				/// This user is following the current user.
				case followedBy = "followed_by"

				/// Users are friends (they follow each other).
				case friends

				/// Only for remote users – current user tried to follow this
				/// user, but their server hasn’t yet accepted that request
				case followRequested = "follow_requested"
			}

			/// Whether there’s an incoming friend request from this user.
			/// Only returned when ``extended`` is `true` and ``friendStatus``
			/// is ``State/followedBy``.
			public var isRequestUnread: Bool?

			/// - parameters:
			///   - userID: User identifier.
			///   - friendStatus: The relationship between this user and the current user.
			///   - isRequestUnread: Whether there’s an incoming friend request from this user.
			///     Only returned when ``extended`` is `true` and ``friendStatus``
			///     is ``State/followedBy``.
			public init(
				userID: UserID,
				friendStatus: State,
				isRequestUnread: Bool? = nil,
			) {
				self.userID = userID
				self.friendStatus = friendStatus
				self.isRequestUnread = isRequestUnread
			}

			private enum CodingKeys: String, CodingKey {
				case userID = "user_id"
				case friendStatus = "friend_status"
				case isRequestUnread = "is_request_unread"
			}
		}
		public var captchaAnswer: CaptchaAnswer?

		/// - parameters:
		///   - userIDs: The list of user identifiers to retrieve friendship states for.
		///   - extended: Whether to return ``FriendshipInfo/isRequestUnread``.
		public init(
			userIDs: [UserID],
			extended: Bool,
		) {
			self.userIDs = userIDs
			self.extended = extended
		}

		private enum CodingKeys: String, CodingKey {
			case userIDs = "user_ids"
			case extended
		}
		public var path: String {
			"/api/method/friends.areFriends"
		}
		public static var method: HTTPMethod {
			.post
		}
		public var encodableBody: Self? {
			self
		}
		public typealias Result = [FriendshipInfo]
	}
}