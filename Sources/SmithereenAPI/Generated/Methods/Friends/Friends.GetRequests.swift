// This file is automatically generated. DO NOT EDIT!

import Foundation
import SmithereenAPIInternals
import Hammond
extension Friends {

	/// Returns the current user’s incoming friend requests.
	/// 
	/// - Note: This method requires the following permissions: `friends:read`.
	public struct GetRequests: SmithereenAPIRequest, Hashable, Encodable, Sendable {

		/// Offset into the friend request list for pagination.
		public var offset: Int?

		/// How many friend requests to return.
		/// 
		/// Minumum value: 1. Maximum value: 100. By default 20.
		public var count: Int?

		/// Returns the current user’s incoming friend requests.
		/// 
		/// - Note: This method requires the following permissions: `friends:read`.
		public struct Extended: SmithereenAPIRequest, Hashable, Encodable, Sendable {

			/// Offset into the friend request list for pagination.
			public var offset: Int?

			/// How many friend requests to return.
			/// 
			/// Minumum value: 1. Maximum value: 100. By default 20.
			public var count: Int?

			/// Whether to return the messages specified by the users who sent
			/// the friend requests.
			/// By default `false`.
			public var extended: Bool?

			/// Whether to return information about mutual friends for each
			/// friend request.
			public var needMutual: Bool?

			/// A list of ``User`` profile fields to be returned.
			public var fields: [User.Field]?

			public struct FriendRequest: Hashable, Codable, Sendable {

				/// If no ``Friends/GetRequests/Extended/fields`` are specified,
				/// the user identifier.
				public var userID: UserID?

				/// If ``Friends/GetRequests/Extended/fields`` are specified,
				/// a ``User`` object.
				public var user: User?

				/// If ``Friends/GetRequests/Extended/extended`` is `true`,
				/// and this friend request was sent with a message, that message.
				public var message: String?

				/// If ``Friends/GetRequests/Extended/needMutual`` is `true`,
				/// an object describing the mutual friends with this user.
				public var mutual: Mutual?

				public struct Mutual: Hashable, Codable, Sendable {

					/// The total number of mutual friends.
					public var count: Int

					/// Up to 10 user IDs of mutual friends.
					public var users: [UserID]

					/// - parameters:
					///   - count: The total number of mutual friends.
					///   - users: Up to 10 user IDs of mutual friends.
					public init(
						count: Int,
						users: [UserID],
					) {
						self.count = count
						self.users = users
					}
				}

				/// - parameters:
				///   - userID: If no ``Friends/GetRequests/Extended/fields`` are specified,
				///     the user identifier.
				///   - user: If ``Friends/GetRequests/Extended/fields`` are specified,
				///     a ``User`` object.
				///   - message: If ``Friends/GetRequests/Extended/extended`` is `true`,
				///     and this friend request was sent with a message, that message.
				///   - mutual: If ``Friends/GetRequests/Extended/needMutual`` is `true`,
				///     an object describing the mutual friends with this user.
				public init(
					userID: UserID? = nil,
					user: User? = nil,
					message: String? = nil,
					mutual: Mutual? = nil,
				) {
					self.userID = userID
					self.user = user
					self.message = message
					self.mutual = mutual
				}

				private enum CodingKeys: String, CodingKey {
					case userID = "user_id"
					case user
					case message
					case mutual
				}
			}

			/// - parameters:
			///   - offset: Offset into the friend request list for pagination.
			///   - count: How many friend requests to return.
			///     
			///     Minumum value: 1. Maximum value: 100. By default 20.
			///   - extended: Whether to return the messages specified by the users who sent
			///     the friend requests.
			///     By default `false`.
			///   - needMutual: Whether to return information about mutual friends for each
			///     friend request.
			///   - fields: A list of ``User`` profile fields to be returned.
			public init(
				offset: Int? = nil,
				count: Int? = nil,
				extended: Bool? = nil,
				needMutual: Bool? = nil,
				fields: [User.Field]? = nil,
			) {
				self.offset = offset
				self.count = count
				self.extended = extended
				self.needMutual = needMutual
				self.fields = fields
			}

			private enum CodingKeys: String, CodingKey {
				case offset
				case count
				case extended
				case needMutual = "need_mutual"
				case fields
			}
			public var path: String {
				"/api/method/friends.getRequests"
			}
			public static var method: HTTPMethod {
				.post
			}
			public var encodableBody: Self? {
				self
			}
			public typealias Result = PaginatedList<FriendRequest, PaginatedListExtras.Empty>
		}

		/// - parameters:
		///   - offset: Offset into the friend request list for pagination.
		///   - count: How many friend requests to return.
		///     
		///     Minumum value: 1. Maximum value: 100. By default 20.
		public init(
			offset: Int? = nil,
			count: Int? = nil,
		) {
			self.offset = offset
			self.count = count
		}
		public var path: String {
			"/api/method/friends.getRequests"
		}
		public static var method: HTTPMethod {
			.post
		}
		public var encodableBody: Self? {
			self
		}
		public typealias Result = PaginatedList<UserID, PaginatedListExtras.Empty>

		public func extended(
			extended: Bool? = nil,
			needMutual: Bool? = nil,
			fields: [User.Field]? = nil,
		) -> Extended {
			Extended(
				offset: offset,
				count: count,
				extended: extended,
				needMutual: needMutual,
				fields: fields,
			)
		}
	}
}