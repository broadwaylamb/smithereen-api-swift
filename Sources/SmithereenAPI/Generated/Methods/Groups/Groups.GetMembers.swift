// This file is automatically generated. DO NOT EDIT!

import Foundation
import SmithereenAPIInternals
import Hammond
extension Groups {

	/// Returns the list of group members.
	public struct GetMembers: SmithereenAPIRequest, Hashable, Encodable, Sendable {

		/// Group identifier.
		public var groupID: GroupID

		/// How to sort the returned users.
		/// By default ``Sorting/idAscending``.
		public var sort: Sorting?

		public enum Sorting: String, Codable, Sendable, CaseIterable {

			/// By identifiers, ascending.
			case idAscending = "id_asc"

			/// By identifiers, descending.
			case idDescending = "id_desc"

			/// Random. The ``offset`` parameter is ignored in this mode.
			case random

			/// By join time, ascending (only available when called with
			/// an access token of a group manager).
			case timeAscending = "time_asc"

			/// By join time, descending (only available when called with
			/// an access token of a group manager).
			case timeDescending = "time_desc"
		}

		/// Offset into the member list for pagination.
		public var offset: Int?

		/// How many members to return. By default 100.
		public var count: Int?

		/// How to filter the group members.
		/// By default, all members are returned for groups,
		/// and “sure” attendees for events.
		public var filter: Filter?

		public enum Filter: String, Codable, Sendable, CaseIterable {

			/// Only return current user’s friends who are members of
			/// this group.
			case friends

			/// Only return event attendees who aren’t sure.
			case unsure

			/// Only return group managers and their roles (only available
			/// when called with an access token of a group manager).
			/// ``offset`` and ``count`` parameters are ignored in this
			/// mode.
			case managers

			/// Only return current user’s friends who aren’t sure that
			/// they’ll attend this event.
			case unsureFriends = "unsure_friends"
		}

		/// Returns the list of group members.
		public struct WithFields: SmithereenAPIRequest, Hashable, Encodable, Sendable {

			/// Group identifier.
			public var groupID: GroupID

			/// How to sort the returned users.
			/// By default ``Sorting/idAscending``.
			public var sort: Sorting?

			/// Offset into the member list for pagination.
			public var offset: Int?

			/// How many members to return. By default 100.
			public var count: Int?

			/// How to filter the group members.
			/// By default, all members are returned for groups,
			/// and “sure” attendees for events.
			public var filter: Filter?

			/// A list of user profile fields to be returned.
			public var fields: [User.Field]

			public init(
				groupID: GroupID,
				sort: Sorting? = nil,
				offset: Int? = nil,
				count: Int? = nil,
				filter: Filter? = nil,
				fields: [User.Field],
			) {
				self.groupID = groupID
				self.sort = sort
				self.offset = offset
				self.count = count
				self.filter = filter
				self.fields = fields
			}

			private enum CodingKeys: String, CodingKey {
				case groupID = "group_id"
				case sort
				case offset
				case count
				case filter
				case fields
			}
			public var path: String {
				"/api/method/groups.getMembers"
			}
			public static var method: HTTPMethod {
				.post
			}
			public var encodableBody: Self {
				self
			}
			public typealias Result = PaginatedList<User, PaginatedListExtras.Empty>
		}

		public init(
			groupID: GroupID,
			sort: Sorting? = nil,
			offset: Int? = nil,
			count: Int? = nil,
			filter: Filter? = nil,
		) {
			self.groupID = groupID
			self.sort = sort
			self.offset = offset
			self.count = count
			self.filter = filter
		}

		private enum CodingKeys: String, CodingKey {
			case groupID = "group_id"
			case sort
			case offset
			case count
			case filter
		}
		public var path: String {
			"/api/method/groups.getMembers"
		}
		public static var method: HTTPMethod {
			.post
		}
		public var encodableBody: Self {
			self
		}

		public func withFields(fields: [User.Field]) -> WithFields {
			WithFields(
				groupID: groupID,
				sort: sort,
				offset: offset,
				count: count,
				filter: filter,
				fields: fields,
			)
		}
	}
}