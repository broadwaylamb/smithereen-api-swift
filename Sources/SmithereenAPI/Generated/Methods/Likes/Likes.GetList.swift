// This file is automatically generated. DO NOT EDIT!

import Foundation
import SmithereenAPIInternals
import Hammond
extension Likes {

	/// Returns the list of users who like an object.
	public struct GetList: SmithereenAPIRequest, Hashable, Encodable, Sendable {

		/// Identifier of the target object.
		public var itemID: LikeableObject

		/// Whether to only return likes by the current user’s friends.
		/// By default `false`.
		public var friendsOnly: Bool?

		/// Whether to omit the current user from the list.
		/// By default `false`.
		public var skipOwn: Bool?

		/// Offset into the user list for pagination.
		public var offset: Int?

		/// How many users to return.
		/// 
		/// Minumum value: 1. Maximum value: 1000. By default 100.
		public var count: Int?

		/// Returns the list of users who like an object.
		public struct WithFields: SmithereenAPIRequest, Hashable, Encodable, Sendable {

			/// Identifier of the target object.
			public var itemID: LikeableObject

			/// Whether to only return likes by the current user’s friends.
			/// By default `false`.
			public var friendsOnly: Bool?

			/// Whether to omit the current user from the list.
			/// By default `false`.
			public var skipOwn: Bool?

			/// Offset into the user list for pagination.
			public var offset: Int?

			/// How many users to return.
			/// 
			/// Minumum value: 1. Maximum value: 1000. By default 100.
			public var count: Int?

			/// A list of ``User`` profile fields to be returned.
			public var fields: [User.Field]

			public init(
				itemID: LikeableObject,
				friendsOnly: Bool? = nil,
				skipOwn: Bool? = nil,
				offset: Int? = nil,
				count: Int? = nil,
				fields: [User.Field],
			) {
				self.itemID = itemID
				self.friendsOnly = friendsOnly
				self.skipOwn = skipOwn
				self.offset = offset
				self.count = count
				self.fields = fields
			}

			private enum CodingKeys: String, CodingKey {
				case friendsOnly = "friends_only"
				case skipOwn = "skip_own"
				case offset
				case count
				case fields
			}
			public func encode(to encoder: any Encoder) throws {
				var container = encoder.container(keyedBy: CodingKeys.self)
				try self.itemID.encode(to: encoder)
				try container.encodeIfPresent(self.friendsOnly, forKey: .friendsOnly)
				try container.encodeIfPresent(self.skipOwn, forKey: .skipOwn)
				try container.encodeIfPresent(self.offset, forKey: .offset)
				try container.encodeIfPresent(self.count, forKey: .count)
				try container.encode(self.fields, forKey: .fields)
			}
			public var path: String {
				"/api/method/likes.getList"
			}
			public static var method: HTTPMethod {
				.post
			}
			public var encodableBody: Self? {
				self
			}
			public typealias Result = PaginatedList<User, PaginatedListExtras.Empty>
		}

		public init(
			itemID: LikeableObject,
			friendsOnly: Bool? = nil,
			skipOwn: Bool? = nil,
			offset: Int? = nil,
			count: Int? = nil,
		) {
			self.itemID = itemID
			self.friendsOnly = friendsOnly
			self.skipOwn = skipOwn
			self.offset = offset
			self.count = count
		}

		private enum CodingKeys: String, CodingKey {
			case friendsOnly = "friends_only"
			case skipOwn = "skip_own"
			case offset
			case count
		}
		public func encode(to encoder: any Encoder) throws {
			var container = encoder.container(keyedBy: CodingKeys.self)
			try self.itemID.encode(to: encoder)
			try container.encodeIfPresent(self.friendsOnly, forKey: .friendsOnly)
			try container.encodeIfPresent(self.skipOwn, forKey: .skipOwn)
			try container.encodeIfPresent(self.offset, forKey: .offset)
			try container.encodeIfPresent(self.count, forKey: .count)
		}
		public var path: String {
			"/api/method/likes.getList"
		}
		public static var method: HTTPMethod {
			.post
		}
		public var encodableBody: Self? {
			self
		}
		public typealias Result = PaginatedList<UserID, PaginatedListExtras.Empty>

		public func withFields(fields: [User.Field]) -> WithFields {
			WithFields(
				itemID: itemID,
				friendsOnly: friendsOnly,
				skipOwn: skipOwn,
				offset: offset,
				count: count,
				fields: fields,
			)
		}
	}
}