// This file is automatically generated. DO NOT EDIT!

import Foundation
import SmithereenAPIInternals
import Hammond
extension Messages {

	/// Returns messages by their identifiers.
	/// - Note: This method requires the following permissions: `messages:read`.
	public struct GetById: SmithereenAPIRequest, Hashable, Encodable, Sendable {

		/// A list of up to 200 message identifiers.
		public var messageIDs: [MessageID]

		/// Returns messages by their identifiers.
		/// - Note: This method requires the following permissions: `messages:read`.
		public struct Extended: SmithereenAPIRequest, Hashable, Encodable, Sendable {

			/// A list of up to 200 message identifiers.
			public var messageIDs: [MessageID]
			private let extended: Bool = true

			/// A list of ``User`` profile fields to be returned.
			public var fields: [User.Field]?

			public struct Result: Hashable, Codable, Sendable {
				public var items: [Message]
				public var profiles: [User]

				public init(
					items: [Message],
					profiles: [User],
				) {
					self.items = items
					self.profiles = profiles
				}
			}

			public init(
				messageIDs: [MessageID],
				fields: [User.Field]? = nil,
			) {
				self.messageIDs = messageIDs
				self.fields = fields
			}

			private enum CodingKeys: String, CodingKey {
				case messageIDs = "message_ids"
				case extended
				case fields
			}
			public var path: String {
				"/api/method/messages.getById"
			}
			public static var method: HTTPMethod {
				.post
			}
			public var encodableBody: Self {
				self
			}
		}

		public init(messageIDs: [MessageID]) {
			self.messageIDs = messageIDs
		}

		private enum CodingKeys: String, CodingKey {
			case messageIDs = "message_ids"
		}
		public var path: String {
			"/api/method/messages.getById"
		}
		public static var method: HTTPMethod {
			.post
		}
		public var encodableBody: Self {
			self
		}
		public typealias Result = [Message]

		public func extended(fields: [User.Field]? = nil) -> Extended {
			Extended(
				messageIDs: messageIDs,
				fields: fields,
			)
		}
	}
}