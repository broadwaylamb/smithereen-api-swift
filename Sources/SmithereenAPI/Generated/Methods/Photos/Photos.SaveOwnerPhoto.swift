// This file is automatically generated. DO NOT EDIT!
// Generated from: codegen/Sources/Schema/Methods/Photos.swift

import Foundation
import SmithereenAPIInternals
import Hammond
extension Photos {

	/// Saves a newly uploaded profile picture
	/// 
	/// - Note: This method requires the following permissions: `photos`.
	public struct SaveOwnerPhoto: SmithereenAPIRequest, Hashable, Encodable, Sendable {

		/// If updating a group’s profile picture, identifier of that group.
		public var groupID: GroupID?

		/// A parameter returned by the upload endpoint.
		public var id: UploadedImageID

		/// A parameter returned by the upload endpoint.
		public var hash: UploadedImageHash

		/// If this parameter is `nil`:
		/// 
		/// - The entire photo will be used for the rectangular version
		/// - The square will be taken from the top of the rectangular version
		///   if it’s vertical, or from its center if it’s horizontal
		public var cropRects: AvatarCropRects?
		public var captchaAnswer: CaptchaAnswer?

		/// - parameters:
		///   - groupID: If updating a group’s profile picture, identifier of that group.
		///   - id: A parameter returned by the upload endpoint.
		///   - hash: A parameter returned by the upload endpoint.
		///   - cropRects: If this parameter is `nil`:
		///     
		///     - The entire photo will be used for the rectangular version
		///     - The square will be taken from the top of the rectangular version
		///       if it’s vertical, or from its center if it’s horizontal
		public init(
			groupID: GroupID? = nil,
			id: UploadedImageID,
			hash: UploadedImageHash,
			cropRects: AvatarCropRects? = nil,
		) {
			self.groupID = groupID
			self.id = id
			self.hash = hash
			self.cropRects = cropRects
		}

		private enum CodingKeys: String, CodingKey {
			case groupID = "group_id"
			case id
			case hash
		}
		public func encode(to encoder: any Encoder) throws {
			var container = encoder.container(keyedBy: CodingKeys.self)
			try container.encodeIfPresent(self.groupID, forKey: .groupID)
			try container.encode(self.id, forKey: .id)
			try container.encode(self.hash, forKey: .hash)
			try self.cropRects?.encode(to: encoder)
		}
		public var path: String {
			"/api/method/photos.saveOwnerPhoto"
		}
		public static var method: HTTPMethod {
			.post
		}
		public var encodableBody: Self? {
			self
		}
		public typealias Result = Photo
	}
}