// This file is automatically generated. DO NOT EDIT!

import Foundation
import SmithereenAPIInternals
import Hammond
extension Polls {

	/// Creates a poll to later attach to a post.
	/// 
	/// - Note: This method requires the following permissions: `wall`.
	public struct Create: SmithereenAPIRequest, Hashable, Encodable, Sendable {

		/// User or group identifier of the owner on whose wall
		/// the poll will be posted.
		/// 
		/// Current user by default.
		public var ownerID: ActorID?

		/// The poll question.
		public var question: String

		/// Poll options, 2 to 10 strings.
		@EncodeAsJSONString
		public var answers: [String]

		/// Whether the list of people who voted for each option
		/// is hidden.
		/// 
		/// By default `false`.
		public var anonymous: Bool?

		/// Whether this poll is multiple-choice.
		/// 
		/// By default `false`.
		public var multiple: Bool?

		/// The time when this poll stops accepting new votes.
		/// 
		/// By default, or if this parameter is in the past,
		/// the poll does not end.
		@UnixTimestamp
		public var endDate: Date?

		public init(
			ownerID: ActorID? = nil,
			question: String,
			answers: [String],
			anonymous: Bool? = nil,
			multiple: Bool? = nil,
			endDate: Date? = nil,
		) {
			self.ownerID = ownerID
			self.question = question
			self.answers = answers
			self.anonymous = anonymous
			self.multiple = multiple
			self.endDate = endDate
		}

		private enum CodingKeys: String, CodingKey {
			case ownerID = "owner_id"
			case question
			case answers
			case anonymous
			case multiple
			case endDate = "end_date"
		}
		public var path: String {
			"/api/method/polls.create"
		}
		public static var method: HTTPMethod {
			.post
		}
		public var encodableBody: Self? {
			self
		}
		public typealias Result = PollID
	}
}