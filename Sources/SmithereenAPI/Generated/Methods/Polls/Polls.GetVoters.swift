// This file is automatically generated. DO NOT EDIT!
// Generated from: codegen/Sources/DSL/RequestDef.swift

import Foundation
import SmithereenAPIInternals
import Hammond
extension Polls {

	/// Returns a list of users who voted for a specific option in a poll.
	public struct GetVoters: SmithereenAPIRequest, Hashable, Encodable, Sendable {

		/// Poll identifier.
		public var pollID: PollID

		/// Poll option identifier.
		public var answerID: PollOptionID

		/// Offset into the user list for pagination.
		public var offset: Int?

		/// How many users to return.
		/// 
		/// Minumum value: 1. Maximum value: 1000. By default 100.
		public var count: Int?
		public var captchaAnswer: CaptchaAnswer?

		/// Returns a list of users who voted for a specific option in a poll.
		public struct WithFields: SmithereenAPIRequest, Hashable, Encodable, Sendable {

			/// Poll identifier.
			public var pollID: PollID

			/// Poll option identifier.
			public var answerID: PollOptionID

			/// Offset into the user list for pagination.
			public var offset: Int?

			/// How many users to return.
			/// 
			/// Minumum value: 1. Maximum value: 1000. By default 100.
			public var count: Int?
			public var captchaAnswer: CaptchaAnswer?

			/// A list of ``User`` profile fields to be returned.
			public var fields: [User.Field]

			/// - parameters:
			///   - pollID: Poll identifier.
			///   - answerID: Poll option identifier.
			///   - offset: Offset into the user list for pagination.
			///   - count: How many users to return.
			///     
			///     Minumum value: 1. Maximum value: 1000. By default 100.
			///   - fields: A list of ``User`` profile fields to be returned.
			public init(
				pollID: PollID,
				answerID: PollOptionID,
				offset: Int? = nil,
				count: Int? = nil,
				fields: [User.Field],
			) {
				self.pollID = pollID
				self.answerID = answerID
				self.offset = offset
				self.count = count
				self.fields = fields
			}

			private enum CodingKeys: String, CodingKey {
				case pollID = "poll_id"
				case answerID = "answer_id"
				case offset
				case count
				case fields
			}
			public var path: String {
				"/api/method/polls.getVoters"
			}
			public static var method: HTTPMethod {
				.post
			}
			public var encodableBody: Self? {
				self
			}
			public typealias Result = PaginatedList<User, PaginatedListExtras.Empty>
		}

		/// - parameters:
		///   - pollID: Poll identifier.
		///   - answerID: Poll option identifier.
		///   - offset: Offset into the user list for pagination.
		///   - count: How many users to return.
		///     
		///     Minumum value: 1. Maximum value: 1000. By default 100.
		public init(
			pollID: PollID,
			answerID: PollOptionID,
			offset: Int? = nil,
			count: Int? = nil,
		) {
			self.pollID = pollID
			self.answerID = answerID
			self.offset = offset
			self.count = count
		}

		private enum CodingKeys: String, CodingKey {
			case pollID = "poll_id"
			case answerID = "answer_id"
			case offset
			case count
		}
		public var path: String {
			"/api/method/polls.getVoters"
		}
		public static var method: HTTPMethod {
			.post
		}
		public var encodableBody: Self? {
			self
		}
		public typealias Result = PaginatedList<UserID, PaginatedListExtras.Empty>

		public func withFields(fields: [User.Field]) -> WithFields {
			WithFields(
				pollID: pollID,
				answerID: answerID,
				offset: offset,
				count: count,
				fields: fields,
			)
		}
	}
}