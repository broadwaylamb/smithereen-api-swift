// This file is automatically generated. DO NOT EDIT!
// Generated from: codegen/Sources/Schema/Methods/Server.swift

import Foundation
import SmithereenAPIInternals
import Hammond
extension Server {

	/// Returns the currently active announcements published by
	/// the server staff.
	/// 
	/// Announcements are displayed below the main menu on the web.
	public struct GetAnnouncements: SmithereenAPIRequest, Hashable, Encodable, Sendable {

		public struct Announcement: Hashable, Codable, Sendable, Identifiable {

			/// Unique identifier of this announcement.
			public var id: ServerAnnouncementID

			/// Title of the announcement.
			public var title: String?

			/// Text of the announcement.
			public var text: String

			/// If this announcement contains a link, its title.
			/// The link is meant to be displayed below the main text.
			public var link: String?

			/// If this announcement contains a link, its URL.
			@URLAsString
			public var linkUrl: URL?

			/// If this announcement is temporary, the time after
			/// which it should no longer be displayed.
			@UnixTimestamp
			public var showUntilDate: Date?

			/// - parameters:
			///   - id: Unique identifier of this announcement.
			///   - title: Title of the announcement.
			///   - text: Text of the announcement.
			///   - link: If this announcement contains a link, its title.
			///     The link is meant to be displayed below the main text.
			///   - linkUrl: If this announcement contains a link, its URL.
			///   - showUntilDate: If this announcement is temporary, the time after
			///     which it should no longer be displayed.
			public init(
				id: ServerAnnouncementID,
				title: String? = nil,
				text: String,
				link: String? = nil,
				linkUrl: URL? = nil,
				showUntilDate: Date? = nil,
			) {
				self.id = id
				self.title = title
				self.text = text
				self.link = link
				self.linkUrl = linkUrl
				self.showUntilDate = showUntilDate
			}

			private enum CodingKeys: String, CodingKey {
				case id
				case title
				case text
				case link
				case linkUrl = "link_url"
				case showUntilDate = "show_until_date"
			}
		}

		public init() {
		}
		public var path: String {
			"/api/method/server.getAnnouncements"
		}
		public static var method: HTTPMethod {
			.post
		}
		public var encodableBody: NeverCodable? {
			nil
		}
		public typealias Result = [Announcement]
	}
}