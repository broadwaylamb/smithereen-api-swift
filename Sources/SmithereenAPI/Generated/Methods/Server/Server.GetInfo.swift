// This file is automatically generated. DO NOT EDIT!
// Generated from: codegen/Sources/Schema/Methods/Server.swift

import Foundation
import SmithereenAPIInternals
import Hammond
extension Server {

	/// Returns information about this server.
	public struct GetInfo: SmithereenAPIRequest, Hashable, Encodable, Sendable {

		public struct ServerRule: Hashable, Codable, Sendable, Identifiable {

			/// Rule identifier.
			public var id: ServerRuleID

			/// The short title of this rule.
			public var title: String

			/// The description of this rule.
			public var description: String?

			/// - parameters:
			///   - id: Rule identifier.
			///   - title: The short title of this rule.
			///   - description: The description of this rule.
			public init(
				id: ServerRuleID,
				title: String,
				description: String? = nil,
			) {
				self.id = id
				self.title = title
				self.description = description
			}
		}

		public struct Uploads: Hashable, Codable, Sendable {

			/// The maximum size of an image file in bytes.
			public var imageMaxSize: Int

			/// The maximum image dimensions, on each side, in pixels.
			public var imageMaxDimensions: Int

			/// The MIME types of image formats supported by this server.
			public var imageTypes: [String]

			/// - parameters:
			///   - imageMaxSize: The maximum size of an image file in bytes.
			///   - imageMaxDimensions: The maximum image dimensions, on each side, in pixels.
			///   - imageTypes: The MIME types of image formats supported by this server.
			public init(
				imageMaxSize: Int,
				imageMaxDimensions: Int,
				imageTypes: [String],
			) {
				self.imageMaxSize = imageMaxSize
				self.imageMaxDimensions = imageMaxDimensions
				self.imageTypes = imageTypes
			}

			private enum CodingKeys: String, CodingKey {
				case imageMaxSize = "image_max_size"
				case imageMaxDimensions = "image_max_dimensions"
				case imageTypes = "image_types"
			}
		}

		public struct Stats: Hashable, Codable, Sendable {

			/// How many local user accounts exist on this server.
			public var users: Int

			/// How many of the local users have been active in the last
			/// month.
			public var activeUsers: Int

			/// How many local groups exist on this server.
			public var groups: Int

			/// - parameters:
			///   - users: How many local user accounts exist on this server.
			///   - activeUsers: How many of the local users have been active in the last
			///     month.
			///   - groups: How many local groups exist on this server.
			public init(
				users: Int,
				activeUsers: Int,
				groups: Int,
			) {
				self.users = users
				self.activeUsers = activeUsers
				self.groups = groups
			}

			private enum CodingKeys: String, CodingKey {
				case users
				case activeUsers = "active_users"
				case groups
			}
		}

		public struct Result: Hashable, Codable, Sendable {

			/// The domain of this server.
			public var domain: String

			/// The display name of this server.
			public var name: String

			/// The long description of this server (HTML).
			public var description: String?

			/// The short description of this server (HTML).
			public var shortDescription: String?

			/// The version of Smithereen running on this server.
			public var version: String

			/// The server policy, as displayed on /system/about (HTML).
			public var policy: String?

			/// The server rules. If there are translations, the returned
			/// strings will be different depending on the language
			/// (the `lang` parameter or the current user’s setting).
			public var rules: [ServerRule]

			/// The server administrator’s email.
			public var adminEmail: String?

			/// The array of user objects representing the server
			/// administrators.
			public var admins: [User]

			/// The sign-up mode currently in effect on this server.
			public var signupMode: ServerSignupMode

			/// Information about the API versions that this server
			/// supports. The version numbers have the format of
			/// `major.minor`.
			/// 
			/// It is intended that forks will add their own fields to this
			/// object, enabling apps to easily discover which extensions
			/// this server supports and which versions they are.
			public var apiVersions: APIVersionDictionary

			/// Information about the limitations that this server imposes
			/// on uploaded files.
			public var uploads: Uploads

			/// Server statistics.
			public var stats: Stats

			/// - parameters:
			///   - domain: The domain of this server.
			///   - name: The display name of this server.
			///   - description: The long description of this server (HTML).
			///   - shortDescription: The short description of this server (HTML).
			///   - version: The version of Smithereen running on this server.
			///   - policy: The server policy, as displayed on /system/about (HTML).
			///   - rules: The server rules. If there are translations, the returned
			///     strings will be different depending on the language
			///     (the `lang` parameter or the current user’s setting).
			///   - adminEmail: The server administrator’s email.
			///   - admins: The array of user objects representing the server
			///     administrators.
			///   - signupMode: The sign-up mode currently in effect on this server.
			///   - apiVersions: Information about the API versions that this server
			///     supports. The version numbers have the format of
			///     `major.minor`.
			///     
			///     It is intended that forks will add their own fields to this
			///     object, enabling apps to easily discover which extensions
			///     this server supports and which versions they are.
			///   - uploads: Information about the limitations that this server imposes
			///     on uploaded files.
			///   - stats: Server statistics.
			public init(
				domain: String,
				name: String,
				description: String? = nil,
				shortDescription: String? = nil,
				version: String,
				policy: String? = nil,
				rules: [ServerRule],
				adminEmail: String? = nil,
				admins: [User],
				signupMode: ServerSignupMode,
				apiVersions: APIVersionDictionary,
				uploads: Uploads,
				stats: Stats,
			) {
				self.domain = domain
				self.name = name
				self.description = description
				self.shortDescription = shortDescription
				self.version = version
				self.policy = policy
				self.rules = rules
				self.adminEmail = adminEmail
				self.admins = admins
				self.signupMode = signupMode
				self.apiVersions = apiVersions
				self.uploads = uploads
				self.stats = stats
			}

			private enum CodingKeys: String, CodingKey {
				case domain
				case name
				case description
				case shortDescription = "short_description"
				case version
				case policy
				case rules
				case adminEmail = "admin_email"
				case admins
				case signupMode = "signup_mode"
				case apiVersions = "api_versions"
				case uploads
				case stats
			}
		}
		public var captchaAnswer: CaptchaAnswer?

		public init() {
		}
		public var path: String {
			"/api/method/server.getInfo"
		}
		public static var method: HTTPMethod {
			.post
		}
		public var encodableBody: NeverCodable? {
			nil
		}
	}
}