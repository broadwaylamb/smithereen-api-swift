// This file is automatically generated. DO NOT EDIT!

import Foundation
import SmithereenAPIInternals
import Hammond
extension Wall {

	/// Returns wall posts by their IDs.
	public struct GetById: SmithereenAPIRequest, Hashable, Encodable, Sendable {

		/// A list of post IDs
		public var posts: [WallPostID]

		/// Determines the size of the ``WallPost/repostHistory`` array.
		/// For example, if a post is a repost of another repost,
		/// with ``repostHistoryDepth`` = 1, only the first repost
		/// will be returned.
		/// From 0 to 10. By default 2.
		public var repostHistoryDepth: Int?

		/// Returns wall posts by their IDs.
		public struct Extended: SmithereenAPIRequest, Hashable, Encodable, Sendable {

			/// A list of post IDs
			public var posts: [WallPostID]

			/// Determines the size of the ``WallPost/repostHistory`` array.
			/// For example, if a post is a repost of another repost,
			/// with ``repostHistoryDepth`` = 1, only the first repost
			/// will be returned.
			/// From 0 to 10. By default 2.
			public var repostHistoryDepth: Int?
			private let extended: Bool = true

			/// A list of ``User`` and ``Group`` profile fields to be returned.
			public var fields: [ActorField]?

			public struct Result: Hashable, Codable, Sendable {
				public var profiles: [User]
				public var groups: [Group]
				public var items: [WallPost]

				public init(
					profiles: [User],
					groups: [Group],
					items: [WallPost],
				) {
					self.profiles = profiles
					self.groups = groups
					self.items = items
				}
			}

			public init(
				posts: [WallPostID],
				repostHistoryDepth: Int? = nil,
				fields: [ActorField]? = nil,
			) {
				self.posts = posts
				self.repostHistoryDepth = repostHistoryDepth
				self.fields = fields
			}

			private enum CodingKeys: String, CodingKey {
				case posts
				case repostHistoryDepth = "repost_history_depth"
				case extended
				case fields
			}
			public var path: String {
				"/api/method/wall.getById"
			}
			public static var method: HTTPMethod {
				.post
			}
			public var encodableBody: Self? {
				self
			}
		}

		public init(
			posts: [WallPostID],
			repostHistoryDepth: Int? = nil,
		) {
			self.posts = posts
			self.repostHistoryDepth = repostHistoryDepth
		}

		private enum CodingKeys: String, CodingKey {
			case posts
			case repostHistoryDepth = "repost_history_depth"
		}
		public var path: String {
			"/api/method/wall.getById"
		}
		public static var method: HTTPMethod {
			.post
		}
		public var encodableBody: Self? {
			self
		}
		public typealias Result = [WallPost]

		public func extended(fields: [ActorField]? = nil) -> Extended {
			Extended(
				posts: posts,
				repostHistoryDepth: repostHistoryDepth,
				fields: fields,
			)
		}
	}
}