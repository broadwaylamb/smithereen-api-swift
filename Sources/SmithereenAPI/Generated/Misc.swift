// This file is automatically generated. DO NOT EDIT!

import Foundation
import SmithereenAPIInternals

public struct Platform: Hashable, RawRepresentable, CaseIterable, Codable, Sendable {
	public var rawValue: String
	public init(rawValue: String) {
		self.rawValue = rawValue
	}

	public static let mobile = Self(rawValue: "mobile")
	public static let desktop = Self(rawValue: "desktop")

	public static let allCases: [Platform] = [
		.mobile,
		.desktop,
	]

	public init(from decoder: Decoder) throws {
		let container = try decoder.singleValueContainer()
		do {
			self = Self(rawValue: try container.decode(String.self))
		} catch DecodingError.typeMismatch {
			let intValue = try container.decode(Int.self)
			switch intValue {
			case 1:
				self = .mobile
			case 7:
				self = .desktop
			default:
				self = Self(rawValue: String(intValue))
			}
		}
	}
}

public struct ServerRule: Hashable, Codable, Sendable, Identifiable {
	public var id: ServerRuleID
	public var title: String
	public var description: String?

	public init(
		id: ServerRuleID,
		title: String,
		description: String? = nil,
	) {
		self.id = id
		self.title = title
		self.description = description
	}
}

public struct ServerSignupMode: Hashable, RawRepresentable, CaseIterable, Codable, Sendable {
	public var rawValue: String
	public init(rawValue: String) {
		self.rawValue = rawValue
	}

	public static let open = Self(rawValue: "open")
	public static let closed = Self(rawValue: "closed")
	public static let inviteOnly = Self(rawValue: "invite_only")
	public static let manualApproval = Self(rawValue: "manual_approval")

	public static let allCases: [ServerSignupMode] = [
		.open,
		.closed,
		.inviteOnly,
		.manualApproval,
	]
}

/// For restricted users and groups, their restriction status.
public struct DeactivatedStatus: Hashable, RawRepresentable, CaseIterable, Codable, Sendable {
	public var rawValue: String
	public init(rawValue: String) {
		self.rawValue = rawValue
	}

	/// The user's account or the group is frozen or suspended.
	public static let banned = Self(rawValue: "banned")

	/// The server staff made this profile/group only visible to
	/// authenticated users.
	public static let hidden = Self(rawValue: "hidden")

	/// The user has deleted their own profile,
	/// or the group was deleted by its creator.
	public static let deleted = Self(rawValue: "deleted")

	public static let allCases: [DeactivatedStatus] = [
		.banned,
		.hidden,
		.deleted,
	]
}

public struct Likes: Hashable, Codable, Sendable {

	/// How many users liked this object.
	public var count: Int

	/// Whether the current user can like this object.
	@LenientBool
	public var canLike: Bool

	/// Whether the current user likes this photo.
	@LenientBool
	public var userLikes: Bool?

	public init(
		count: Int,
		canLike: Bool,
		userLikes: Bool? = nil,
	) {
		self.count = count
		self.canLike = canLike
		self.userLikes = userLikes
	}

	private enum CodingKeys: String, CodingKey {
		case count
		case canLike = "can_like"
		case userLikes = "user_likes"
	}
}