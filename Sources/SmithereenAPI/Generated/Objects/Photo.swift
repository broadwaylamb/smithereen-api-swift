// This file is automatically generated. DO NOT EDIT!

import Foundation
import SmithereenAPIInternals

public struct Photo: Hashable, Codable, Sendable, Identifiable {

	/// The (server-wide) unique identifier of this photo.
	public var id: PhotoID

	/// Globally unique ActivityPub identifier for this photo.
	/// Use this to match photos across servers.
	/// Always non-nil for Smithereen, always nil for OpenVK
	public var activityPubID: URL?

	/// The URL of the web page representing this photo.
	/// For photos uploaded by remote users, points to their home server.
	public var url: URL

	/// If this photo is in an album, the identifier of that album.
	public var albumID: AlbumID?

	/// The identifier of the owner of this photo.
	public var ownerID: ActorID

	/// For a photo in an album in a group, the identifier of the user
	/// who uploaded this photo to the album.
	public var userID: UserID?

	/// A textual description of the photo. In case of post attachments,
	/// often used as an “alt text” to describe the image for
	/// the visually-impaired.
	public var text: String?

	/// The unixtime timestamp when this photo was uploaded.
	@UnixTimestamp
	public var date: Date

	/// The [BlurHash](https://blurha.sh/) for the thumbnail.
	public var blurhash: BlurHash?

	/// Whether there are tagged people in this photo.
	@LenientBool
	public var hasTags: Bool

	/// An array describing the differently-sized images available for this
	/// photo.
	public var sizes: [Size]

	public struct SizeType: Hashable, RawRepresentable, CaseIterable, Codable, Sendable {
		public var rawValue: String
		public init(rawValue: String) {
			self.rawValue = rawValue
		}

		/// Scaled to fit into a 100x100 square
		public static let thumbSmall = Self(rawValue: "s")

		/// Scaled to fit into a 320x320 square
		public static let thumbMedium = Self(rawValue: "m")

		/// Scaled to fit into a 640x640 square
		public static let small = Self(rawValue: "x")

		/// Scaled to fit into a 800x800 square
		public static let medium = Self(rawValue: "y")

		/// Scaled to fit into a 1280x1280 square
		public static let large = Self(rawValue: "z")

		/// Scaled to fit into a 2560x2560 square
		public static let original = Self(rawValue: "w")

		public static let allCases: [SizeType] = [
			.thumbSmall,
			.thumbMedium,
			.small,
			.medium,
			.large,
			.original,
		]
	}

	public struct Size: Hashable, Codable, Sendable {

		/// The URL of this image size.
		/// The format of the image is determined by the `image_format`
		/// global parameter.
		public var url: URL

		/// The width of this size in pixels.
		public var width: Int

		/// The height of this size in pixels.
		public var height: Int

		/// The designator for this size.
		public var type: SizeType

		public init(
			url: URL,
			width: Int,
			height: Int,
			type: SizeType,
		) {
			self.url = url
			self.width = width
			self.height = height
			self.type = type
		}
	}

	/// The width of the largest-size image for this photo in pixels.
	public var width: Int

	/// The height of the largest-size image for this photo in pixels.
	public var height: Int

	/// Information about likes of this photo.
	/// - Note: this field is returned by some `photos.*` methods
	/// 	which take the `extended` parameter, when that parameter is set
	/// 	to `true`.
	public var likes: Likes?

	/// The total number of comments on this photo.
	/// - Note: this field is returned by some `photos.*` methods
	/// 	which take the `extended` parameter, when that parameter is set
	/// 	to `true`.
	public var comments: Int?

	/// Whether the current user can comment on this photo.
	/// - Note: this field is returned by some `photos.*` methods
	/// 	which take the `extended` parameter, when that parameter is set
	/// 	to `true`.
	@LenientBool
	public var canComment: Bool?

	/// The total number of people tagged in this photo.
	/// - Note: this field is returned by some `photos.*` methods
	/// 	which take the `extended` parameter, when that parameter is set
	/// 	to `true`.
	public var tags: Int?

	public init(
		id: PhotoID,
		activityPubID: URL? = nil,
		url: URL,
		albumID: AlbumID? = nil,
		ownerID: ActorID,
		userID: UserID? = nil,
		text: String? = nil,
		date: Date,
		blurhash: BlurHash? = nil,
		hasTags: Bool,
		sizes: [Size],
		width: Int,
		height: Int,
		likes: Likes? = nil,
		comments: Int? = nil,
		canComment: Bool? = nil,
		tags: Int? = nil,
	) {
		self.id = id
		self.activityPubID = activityPubID
		self.url = url
		self.albumID = albumID
		self.ownerID = ownerID
		self.userID = userID
		self.text = text
		self.date = date
		self.blurhash = blurhash
		self.hasTags = hasTags
		self.sizes = sizes
		self.width = width
		self.height = height
		self.likes = likes
		self.comments = comments
		self.canComment = canComment
		self.tags = tags
	}

	private enum CodingKeys: String, CodingKey {
		case id
		case activityPubID = "ap_id"
		case url
		case albumID = "album_id"
		case ownerID = "owner_id"
		case userID = "user_id"
		case text
		case date
		case blurhash
		case hasTags = "has_tags"
		case sizes
		case width
		case height
		case likes
		case comments
		case canComment = "can_comment"
		case tags
	}
}