// This file is automatically generated. DO NOT EDIT!

import Foundation
import SmithereenAPIInternals

/// A privacy setting configurable by the current user.
public struct PrivacySetting: Hashable, Codable, Sendable {

	/// The base rule of this privacy setting.
	public var rule: Rule

	public struct Rule: Hashable, RawRepresentable, CaseIterable, Codable, Sendable {
		public var rawValue: String
		public init(rawValue: String) {
			self.rawValue = rawValue
		}

		/// Everyone has access.
		public static let everyone = Self(rawValue: "everyone")

		/// Only current user’s friends have access.
		public static let friends = Self(rawValue: "friends")

		/// Only current user’s friends and their friends have access.
		public static let friendsOfFriends = Self(rawValue: "friends_of_friends")

		/// Only current user’s followers have access.
		public static let followers = Self(rawValue: "followers")

		/// Only users following the current user have access.
		public static let following = Self(rawValue: "following")

		/// No one has access.
		public static let none = Self(rawValue: "none")

		public static let allCases: [Rule] = [
			.everyone,
			.friends,
			.friendsOfFriends,
			.followers,
			.following,
			.none,
		]
	}

	/// Identifiers of the current user’s friends who have access even if
	/// the base rule would not allow it.
	public var allowUsers: [UserID]

	/// Identifiers of the current user’s friend lists whose members have
	/// access even if the base rule would not allow it.
	public var allowLists: [FriendListID]

	/// Identifiers of the current user’s friends who do **not** have access
	/// even if the base rule would allow it.
	public var exceptUsers: [UserID]

	/// Identifiers of the current user’s friend lists whose members do
	/// **not** have access even if the base rule would allow it.
	public var exceptLists: [FriendListID]

	public struct Key: Identifier {
		public var rawValue: String

		public init(rawValue: String) {
			self.rawValue = rawValue
		}
	}

	/// Which updates show up in followers' news feeds.
	public enum FeedType: String, Codable, Sendable, CaseIterable {

		/// New photos added to albums.
		case photo

		/// New photo tags.
		case photoTag = "photo_tag"

		/// New friends.
		case friend

		/// Groups joined or created.
		case group

		/// Events joined or created.
		case event

		/// New discussion board topics in groups.
		case board

		/// Relationship status changes.
		case relation
	}

	/// - parameters:
	///   - rule: The base rule of this privacy setting.
	///   - allowUsers: Identifiers of the current user’s friends who have access even if
	///     the base rule would not allow it.
	///   - allowLists: Identifiers of the current user’s friend lists whose members have
	///     access even if the base rule would not allow it.
	///   - exceptUsers: Identifiers of the current user’s friends who do **not** have access
	///     even if the base rule would allow it.
	///   - exceptLists: Identifiers of the current user’s friend lists whose members do
	///     **not** have access even if the base rule would allow it.
	public init(
		rule: Rule,
		allowUsers: [UserID],
		allowLists: [FriendListID],
		exceptUsers: [UserID],
		exceptLists: [FriendListID],
	) {
		self.rule = rule
		self.allowUsers = allowUsers
		self.allowLists = allowLists
		self.exceptUsers = exceptUsers
		self.exceptLists = exceptLists
	}

	private enum CodingKeys: String, CodingKey {
		case rule
		case allowUsers = "allow_users"
		case allowLists = "allow_lists"
		case exceptUsers = "except_users"
		case exceptLists = "except_lists"
	}
}