// This file is automatically generated. DO NOT EDIT!
// Generated from: codegen/Sources/Schema/Objects/PrivacySetting.swift

import Foundation
import SmithereenAPIInternals

/// A privacy setting configurable by the current user.
public struct PrivacySetting: Hashable, Codable, Sendable {

	/// The base rule of this privacy setting.
	public var rule: Rule

	public enum Rule: String, Codable, Sendable, CaseIterable {

		/// Everyone has access.
		case everyone

		/// Only current user’s friends have access.
		case friends

		/// Only current user’s friends and their friends have access.
		case friendsOfFriends = "friends_of_friends"

		/// Only current user’s followers have access.
		case followers

		/// Only users following the current user have access.
		case following

		/// No one has access.
		case none
	}

	/// Identifiers of the current user’s friends who have access even if
	/// the base rule would not allow it.
	public var allowUsers: [UserID]

	/// Identifiers of the current user’s friend lists whose members have
	/// access even if the base rule would not allow it.
	public var allowLists: [FriendListID]

	/// Identifiers of the current user’s friends who do **not** have access
	/// even if the base rule would allow it.
	public var exceptUsers: [UserID]

	/// Identifiers of the current user’s friend lists whose members do
	/// **not** have access even if the base rule would allow it.
	public var exceptLists: [FriendListID]

	public struct Key: Identifier {
		public var rawValue: String

		public init(rawValue: String) {
			self.rawValue = rawValue
		}
	}

	/// Which updates show up in followers' news feeds.
	public enum FeedType: String, Codable, Sendable, CaseIterable {

		/// New photos added to albums.
		case photo

		/// New photo tags.
		case photoTag = "photo_tag"

		/// New friends.
		case friend

		/// Groups joined or created.
		case group

		/// Events joined or created.
		case event

		/// New discussion board topics in groups.
		case board

		/// Relationship status changes.
		case relation
	}

	/// - parameters:
	///   - rule: The base rule of this privacy setting.
	///   - allowUsers: Identifiers of the current user’s friends who have access even if
	///     the base rule would not allow it.
	///   - allowLists: Identifiers of the current user’s friend lists whose members have
	///     access even if the base rule would not allow it.
	///   - exceptUsers: Identifiers of the current user’s friends who do **not** have access
	///     even if the base rule would allow it.
	///   - exceptLists: Identifiers of the current user’s friend lists whose members do
	///     **not** have access even if the base rule would allow it.
	public init(
		rule: Rule,
		allowUsers: [UserID],
		allowLists: [FriendListID],
		exceptUsers: [UserID],
		exceptLists: [FriendListID],
	) {
		self.rule = rule
		self.allowUsers = allowUsers
		self.allowLists = allowLists
		self.exceptUsers = exceptUsers
		self.exceptLists = exceptLists
	}

	private enum CodingKeys: String, CodingKey {
		case rule
		case allowUsers = "allow_users"
		case allowLists = "allow_lists"
		case exceptUsers = "except_users"
		case exceptLists = "except_lists"
	}
}