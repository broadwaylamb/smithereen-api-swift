// This file is automatically generated. DO NOT EDIT!
// Generated from: codegen/Sources/Schema/Objects/Comment.swift

import Foundation
import SmithereenAPIInternals

/// A comment in a discussion board topic.
public struct TopicComment: CommentProtocol, Identifiable {

	/// Unique (server-wide) identifier of this comment.
	public var id: TopicCommentID

	/// Identifier of the topic owner.
	public var ownerID: ActorID

	/// Identifier of the user who made this comment.
	public var fromID: ActorID

	/// Globally unique ActivityPub identifier for this comment.
	/// Use this to match comments across servers.
	public var activityPubID: URL

	/// The URL of the web page representing this comment.
	/// For comments made by remote users, points to their home server.
	public var url: URL

	/// The timestamp when this comment was published, as unixtime.
	@UnixTimestamp
	public var date: Date

	/// The text of the comment as HTML.
	/// [More about text formatting](https://smithereen.software/docs/api/text-formatting).
	public var text: String?

	/// Information about likes of this comment.
	public var likes: LikeInfo?

	/// Media attachments added to this comment.
	public var attachments: [Attachment]?

	/// The content warning text, if any. If this field is present,
	/// hide the comment content, replacing it with this text, and only reveal
	/// it after an extra click or tap.
	public var contentWarning: String?

	/// Whether the current user can delete this comment.
	public var canDelete: Bool

	/// Whether the current user can edit this comment.
	public var canEdit: Bool

	/// An array of user IDs corresponding to users mentioned in this comment.
	public var mentionedUsers: [ActorID]?

	/// Array of identifiers of parent comments.
	public var parentsStack: [TopicCommentID]?

	/// Identifier of the comment this is in reply to, if applicable.
	public var replyToComment: TopicCommentID?

	/// Identifier of the user this is in reply to, if applicable.
	public var replyToUser: ActorID?

	/// An object describing the reply thread of this comment.
	/// Only returned when `view_type` is `threaded` or `two_level`.
	public var thread: CommentThread<TopicComment>?

	/// - parameters:
	///   - id: Unique (server-wide) identifier of this comment.
	///   - ownerID: Identifier of the topic owner.
	///   - fromID: Identifier of the user who made this comment.
	///   - activityPubID: Globally unique ActivityPub identifier for this comment.
	///     Use this to match comments across servers.
	///   - url: The URL of the web page representing this comment.
	///     For comments made by remote users, points to their home server.
	///   - date: The timestamp when this comment was published, as unixtime.
	///   - text: The text of the comment as HTML.
	///     [More about text formatting](https://smithereen.software/docs/api/text-formatting).
	///   - likes: Information about likes of this comment.
	///   - attachments: Media attachments added to this comment.
	///   - contentWarning: The content warning text, if any. If this field is present,
	///     hide the comment content, replacing it with this text, and only reveal
	///     it after an extra click or tap.
	///   - canDelete: Whether the current user can delete this comment.
	///   - canEdit: Whether the current user can edit this comment.
	///   - mentionedUsers: An array of user IDs corresponding to users mentioned in this comment.
	///   - parentsStack: Array of identifiers of parent comments.
	///   - replyToComment: Identifier of the comment this is in reply to, if applicable.
	///   - replyToUser: Identifier of the user this is in reply to, if applicable.
	///   - thread: An object describing the reply thread of this comment.
	///     Only returned when `view_type` is `threaded` or `two_level`.
	public init(
		id: TopicCommentID,
		ownerID: ActorID,
		fromID: ActorID,
		activityPubID: URL,
		url: URL,
		date: Date,
		text: String? = nil,
		likes: LikeInfo? = nil,
		attachments: [Attachment]? = nil,
		contentWarning: String? = nil,
		canDelete: Bool,
		canEdit: Bool,
		mentionedUsers: [ActorID]? = nil,
		parentsStack: [TopicCommentID]? = nil,
		replyToComment: TopicCommentID? = nil,
		replyToUser: ActorID? = nil,
		thread: CommentThread<TopicComment>? = nil,
	) {
		self.id = id
		self.ownerID = ownerID
		self.fromID = fromID
		self.activityPubID = activityPubID
		self.url = url
		self.date = date
		self.text = text
		self.likes = likes
		self.attachments = attachments
		self.contentWarning = contentWarning
		self.canDelete = canDelete
		self.canEdit = canEdit
		self.mentionedUsers = mentionedUsers
		self.parentsStack = parentsStack
		self.replyToComment = replyToComment
		self.replyToUser = replyToUser
		self.thread = thread
	}

	private enum CodingKeys: String, CodingKey {
		case id
		case ownerID = "owner_id"
		case fromID = "from_id"
		case activityPubID = "ap_id"
		case url
		case date
		case text
		case likes
		case attachments
		case contentWarning = "content_warning"
		case canDelete = "can_delete"
		case canEdit = "can_edit"
		case mentionedUsers = "mentioned_users"
		case parentsStack = "parents_stack"
		case replyToComment = "reply_to_comment"
		case replyToUser = "reply_to_user"
		case thread
	}
}